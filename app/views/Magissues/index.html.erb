<h1>Listing magazine issues</h1>
<!-- TODO: Naoufal: This file might have duplicate code used in magissues/_indexmag.html.erb, so
                    consider rewriting the code to avoid repetition-->

<table class="table table-hover">
  <thead>
   <tr>

    <th>Name</th>
    <th>Date</th>
    <th>Volume</th>
    <th>Number</th>
    <th>Status</th>
    <th></th>
    <th></th>
    <th></th>
  </tr>
  </thead>


<% @magissues.each do |issue| %>

  <tbody>
  <tr tr-class="success">
    <td><%= issue.magazine.name %></td>
    <td><%= issue.date %></td>
    <td><%= issue.volume %></td>
    <td><%= issue.number %></td>
    <td><%= issue.status %></td>
    <!-- Naoufal -->
    <!-- TODO: Add condition to show the Read link only if the magissues has at least one magissues-->
    <% if issue.articles[0] != nil %>
        <td><%= link_to 'Read', cover_magissue_path(issue) %></td>
        <!--td><%#= link_to 'Read', read_article_path(magazine.articles[0])
		 %></td --><!-- Start reading from the first article -->
    <% else %>
        <td>Empty</td>
    <% end %>
    <td><%= link_to 'TOC', toc_magissue_path(issue) %></td>
    <!-- end Naoufal -->
    <td><%= link_to 'Show', issue %></td>
    <td><%= link_to 'Edit', edit_magissue_path(issue) %></td>
    <td><%= link_to 'Destroy', issue, method: :delete, data: { confirm: 'Are you sure?' } %></td>
  </tr>
  </tbody>

<% end %>

</table>

<br />

<%= link_to 'New Magazine issue', new_magissue_path %>
